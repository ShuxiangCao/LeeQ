[pytest]
cache_dir = /tmp/pytest-cache/

# Test discovery patterns
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Notebook testing configuration
# To test notebooks, install nbval: pip install nbval
# Then run: pytest notebooks/ --nbval --nbval-lax -v
# 
# Note: Use --nbval-lax to ignore output differences in cells
# Use -v for verbose output
#
# To test specific notebook directories:
# pytest notebooks/tutorials/ --nbval --nbval-lax -v
# pytest notebooks/examples/ --nbval --nbval-lax -v  
# pytest notebooks/workflows/ --nbval --nbval-lax -v
#
# Comprehensive notebook testing:
# python scripts/test_notebook_infrastructure.py --all -v
#
# Chronicle integration testing:
# python scripts/test_chronicle_integration.py notebooks/

# Markers for different test types
markers =
    notebook: marks tests as notebook tests
    chronicle: marks tests as Chronicle integration tests
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    daemon: marks tests as daemon tests (may be flaky in CI)

# Default options
addopts = -m "not daemon"